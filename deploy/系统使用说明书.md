# 物流仓储智能调度系统使用说明书

## 1. 系统简介
本系统是一套基于数字孪生技术的物流仓储智能调度平台，通过虚拟建模、实时数据注入和自适应调度算法，实现对仓储资源的精确控制与高效调度。系统采用先进的"动态孪生"技术，构建与物理仓储空间一一对应的虚拟模型，能够实时感知设备状态、任务进度和异常情况，并自动做出最优调度决策。

## 2. 核心调度逻辑
本系统的智能核心基于以下七大关键环节运行：

### 2.1 虚拟建模
- **功能**：构建与物理仓储空间对应的虚拟仓储模型。
- **实现**：包含多个逻辑分区，精确映射物理空间结构。

### 2.2 动态孪生
- **功能**：形成具有动态响应特性的仓储动态孪生体。
- **实现**：向虚拟模型注入实时运行数据流。

### 2.3 自适应调度
- **功能**：根据环境变化自动调整调度策略。
- **实现**：植入自适应调度逻辑核心，实时分析订单积压、设备负荷等特征。

### 2.4 任务解析
- **功能**：将复杂订单分解为可执行的原子操作。
- **实现**：生成任务分解图谱。

### 2.5 资源匹配
- **功能**：为任务分配最优设备资源。
- **实现**：基于任务分解图谱在逻辑分区内进行匹配运算。

### 2.6 指令生成与执行
- **功能**：控制物理设备执行任务。
- **实现**：生成包含时序约束的控制指令序列，下发至物理终端。

### 2.7 状态校正
- **功能**：确保虚拟模型与物理世界的一致性。
- **实现**：利用反馈数据流对孪生体状态进行实时校正。

## 3. 功能模块说明

| 模块名称 | 功能描述 | 适用场景 |
| :--- | :--- | :--- |
| **实时监控台** | 展示系统整体运行状态、关键指标(KPI)及设备实时分布。 | 日常巡检、全局态势感知 |
| **任务执行流** | 显示当前正在执行、待执行及已完成的任务列表，支持任务详情查看。 | 任务进度追踪、异常任务处理 |
| **设备状态池** | 监控AGV小车、堆垛机等设备的运行状态、负载率及健康状况。 | 设备维护、故障排查 |
| **数据分析** | 提供任务完成趋势、类型分布、区域热力及设备效率的多维度图表分析。 | 运营决策支持、效率优化分析 |

## 4. 操作指南

### 4.1 系统登录
- 在登录界面输入操作员ID和密码（默认只读账号：`operator_01`）。
- 点击"安全接入"即可进入主界面。

### 4.2 启动/停止生产连接
- 在主界面右上角，点击红色/绿色的连接按钮。
- **连接状态**：控制系统与物理WCS/PLC的信号连接。
- **离线模式**：连接断开时，系统处于离线浏览模式，仅显示缓存数据。

### 4.3 查看数据分析
- 点击左侧导航栏的"数据分析"。
- 查看系统生成的各类统计图表（趋势图、分布图、效率图等）。
- 图表支持交互操作，鼠标悬停可查看具体数值。

### 4.4 处理系统通知
- 点击顶部导航栏的铃铛图标查看系统通知。
- 通知类型包括：任务完成、设备报警、库存预警等。
- 点击"全部已读"可清除通知标记。

### 系统参数
WCS 通信端口: 8080
含义：WCS（Warehouse Control System，仓库控制系统）通常在网络上运行一个服务，其他系统（如前端页面或上层WMS、调度器）通过该端口与 WCS 的 API/消息接口通信。此处配置的是 WCS 服务监听的 TCP/HTTP 端口号。
单位/格式：整数端口号（1–65535），通常使用 80/443（HTTP/HTTPS）或 8000/8080/5000 等开发/内部端口。
建议与风险：
如果部署在生产环境，建议使用防火墙限制访问并尽量使用 HTTPS（443）或在反向代理上做 TLS 终端。
确保该端口和 WCS 后端服务一致，否则前端/其他组件无法连接。
避免使用易冲突或被外部扫描的默认端口（可视情况改到内网端口并文档化）。

PLC 轮询间隔 (ms): 1500
含义：PLC（Programmable Logic Controller，可编程逻辑控制器）是车间/设备层的控制器。系统通过以固定频率“轮询”PLC（读取寄存器/状态或写入命令）来获取设备/传感器状态或下发控制。这里的值表示轮询周期，单位为毫秒（ms）。
单位/格式：毫秒（ms）。例如 1500 表示每 1.5 秒轮询一次。
建议与权衡：
更短的间隔（例如 100–500 ms）能提供更实时的状态感知，但会增加网络/总线负载和 PLC 的处理压力，可能影响稳定性。
更长的间隔（例如 1000–3000 ms）减轻负载，但反应变慢，可能影响调度/碰撞检测精度。
推荐初始值：对于多数系统 500–1500 ms 为常见取值；对实时性要求很高的系统才考虑 <500 ms。
注意与 PLC 通信协议（Modbus、EtherNet/IP 等）的能力和现场网络带宽匹配。

调度算法策略（调度算法）
含义：决定任务如何在设备间分配（例如优先级规则、负载均衡策略、基于启发式或优化的调度）。截图里的选项示例 “自适应混合调度 (Adaptive Hybrid)” 表示混合多种策略，动态切换。
影响：影响系统吞吐、响应时间、设备利用率和冲突/等待。
建议：
小规模或简单场景用规则基（优先级/距离）即可；复杂场景可启用混合/优化算法（例如带成本函数的启发式或启发式+搜索）。
在更换策略前先在仿真/历史数据上评估。

路径规划引擎
含义：用于计算设备（如 AGV）在仓库地图上行驶的具体路径。常见有 A*、Dijkstra、RRT 等。截图中为 “A* 启发式搜索”。
影响：路径长度、避障能力、计算开销。A* 是启发式最短路径常用方案，适合网格/网络图。
建议：
对静态地图且网格清晰的场景，A* 很合适并高效。
若需要动态避障或高维约束，结合局部避障（动态避让）算法或使用更高级方法。

启用自动任务分发（开关）
含义：系统是否自动把待办任务分配给设备（AGV、堆垛机等）。开启时系统自动选择设备并下发命令；关闭时可能需要人工或上层系统手动分配。
建议：
生产环境通常开启，除非在调试或人工干预阶段。
开启前确保调度策略、路径规划、资源状态准确，否则可能导致错误下发。

启用实时碰撞检测（开关）
含义：是否在调度/路径规划环节加入实时碰撞检测逻辑（检测并避免车辆间的冲突）。
影响：提高安全性与可靠性，增加计算量与调度复杂度。
建议：
强烈建议生产环境开启，尤其有多台移动设备并行时。
在资源受限或初期测试可暂时关闭以便调试，但风险增高。

库存高位预警 (%)
含义：当仓库某一库存或某类库存达到该百分比阈值（例如占位率 85%）时触发报警/提醒，以防溢出或需要补货/出库计划。
建议：
阈值视仓库安全库存策略而定，常见 75–90% 区间。85% 是较高的预警线，意味着接近满仓应采取措施。

设备负载上限 (%)
含义：当单台设备或设备类型的负载（运行时间/任务数量/CPU 等自定义指标）超过该百分比时视为过载，可能触发降载或停止分配新任务。
建议：
常见阈值 75–90%。90% 表示接近饱和，应考虑扩容或分流任务。
快速总结与操作建议

验证 WCS 通信端口 与后端服务一致，并在生产中使用防火墙/反向代理（HTTPS）。
将 PLC 轮询间隔 设为 500–1500 ms 之间初始值；如需要更高实时性再调小。
在生产建议开启 自动任务分发 与 实时碰撞检测（确保算法与资源状态稳定）。
调度算法 与 路径规划 的选择应基于场景复杂度，A* 对常见网格场景很好用。
对阈值（库存和设备负载）先采用保守值（如库存 75–85%、设备负载 80–90%），并在运行中根据告警频度微调。

## 5. 常见问题

**Q: 系统显示"离线模式"是什么意思？**
A: 离线模式表示当前前端界面未与后端调度核心建立实时WebSocket连接，此时显示的数据为最后一次缓存的数据或模拟数据。

**Q: 如何处理设备报警？**
A: 当收到设备异常报警通知时，请立即前往"设备状态池"查看具体故障设备，并联系现场运维人员进行检修。系统会自动将该设备标记为不可用，并重新规划相关任务路径。

---
&copy; 2025 物流仓储智能调度系统 V2.5.0
